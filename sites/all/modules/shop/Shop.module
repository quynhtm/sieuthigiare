<?php
/*
* @Created by: HSS
* @Author	 : nguyenduypt86@gmail.com
* @Date 	 : 04/2016
* @Version	 : 1.0
*/
function Shop_menu() {
	//register shop
	$items["dang-ky.html"] = array(
		"title" => t('Đăng ký shop'),
		"description" => "Đăng ký shop",
		'page callback' => 'menuLoad',
		'page arguments' => array('RegShopController/registerShop'),
		'access callback' => TRUE,
		'type' => MENU_CALLBACK,
	);
	$items["dang-nhap.html"] = array(
		"title" => t('Đăng nhập shop'),
		"description" => "Đăng nhâp shop",
		'page callback' => 'menuLoad',
		'page arguments' => array('RegShopController/loginShop'),
		'access callback' => TRUE,
		'type' => MENU_CALLBACK,
	);
	$items["thoat.html"] = array(
		"title" => t('Thoát shop'),
		"description" => "Thoat shop",
		'page callback' => 'menuLoad',
		'page arguments' => array('RegShopController/logoutShop'),
		'access callback' => TRUE,
		'type' => MENU_CALLBACK,
	);
	$items["sua-thong-tin-gian-hang.html"] = array(
		"title" => t('Sửa thông tin gian hàng'),
		"description" => "Sửa thông tin gian hàng",
		'page callback' => 'menuLoad',
		'page arguments' => array('RegShopController/editInfoShop'),
		'access callback' => TRUE,
		'type' => MENU_CALLBACK,
	);
	$items["doi-mat-khau.html"] = array(
		"title" => t('Đổi mật khẩu'),
		"description" => "Đổi mật khẩu",
		'page callback' => 'menuLoad',
		'page arguments' => array('RegShopController/editPassShop'),
		'access callback' => TRUE,
		'type' => MENU_CALLBACK,
	);
	$items["ajax-check-user-reg-exist"] = array(
		"title" => t('Đăng ký shop'),
		"description" => "Đăng ký shop",
		'page callback' => 'menuLoad',
		'page arguments' => array('RegShopController/ajaxCheckShopExist'),
		'access callback' => TRUE,
		'type' => MENU_CALLBACK,
	);
	//product shop
	$items["quan-ly-gian-hang.html"] = array(
		"title" => t('Quản lý sản phẩm'),
		"description" => "Quản lý sản phẩm",
		'page callback' => 'menuLoad',
		'page arguments' => array('ProductShopController/productShop'),
		'access callback' => TRUE,
		'type' => MENU_CALLBACK,
	);
	$items["dang-san-pham.html"] = array(
		"title" => t('Đăng sản phẩm'),
		"description" => "Đăng sản phẩm",
		'page callback' => 'menuLoad',
		'page arguments' => array('ProductShopController/productFormShop'),
		'access callback' => TRUE,
		'type' => MENU_CALLBACK,
	);
	$items["sua-san-pham/%/%"] = array(
		"title" => t('Sửa sản phẩm'),
		"description" => "Sửa sản phẩm",
		'page callback' => 'menuLoad',
		'page arguments' => array('ProductShopController/productFormShop'),
		'access callback' => TRUE,
		'type' => MENU_CALLBACK,
	);
	$items["xoa-san-pham"] = array(
		"title" => t('xóa sản phẩm'),
		"description" => "Xóa sản phẩm",
		'page callback' => 'menuLoad',
		'page arguments' => array('ProductShopController/productDeleteShop'),
		'access callback' => TRUE,
		'type' => MENU_CALLBACK,
	);
	//index shop
	$items["gian-hang/%/%"] = array(
		"title" => t('Gian hàng'),
		"description" => "Gian hàng",
		'page callback' => 'menuLoad',
		'page arguments' => array('ProductShopController/indexShop'),
		'access callback' => TRUE,
		'type' => MENU_CALLBACK,
	);
	$items["san-pham/%/%"] = array(
		"title" => t('Chi tiết sản phẩm'),
		"description" => "Chi tiết sản phẩm",
		'page callback' => 'menuLoad',
		'page arguments' => array('ProductShopController/detailShop'),
		'access callback' => TRUE,
		'type' => MENU_CALLBACK,
	);
	//cart shop
	$items["gio-hang.html"] = array(
		"title" => t('Giỏ hàng'),
		"description" => "Giỏ hàng",
		'page callback' => 'menuLoad',
		'page arguments' => array('CartShopController/cartShop'),
		'access callback' => TRUE,
		'type' => MENU_CALLBACK,
	);
	$items["gui-don-hang.html"] = array(
		"title" => t('Gửi đơn hàng'),
		"description" => "Gửi đơn hàng",
		'page callback' => 'menuLoad',
		'page arguments' => array('CartShopController/cartSendShop'),
		'access callback' => TRUE,
		'type' => MENU_CALLBACK,
	);

	//contact shop
	$items["lien-he-quan-tri.html"] = array(
		"title" => t('Quản lý liên hệ'),
		"description" => "Quản lý liên hệ",
		'page callback' => 'menuLoad',
		'page arguments' => array('ContactShopController/contactShop'),
		'access callback' => TRUE,
		'type' => MENU_CALLBACK,
	);
	$items["gui-lien-he.html"] = array(
		"title" => t('Gửi liên hệ'),
		"description" => "Gửi liên hệ",
		'page callback' => 'menuLoad',
		'page arguments' => array('ContactShopController/contactFormShop'),
		'access callback' => TRUE,
		'type' => MENU_CALLBACK,
	);

  return $items;
}

function Shop_theme() {
	return array(
		//register shop
	    'registerShop' => array(
	      'template' => 'View/tpl/reg/registerShop'
	    ),
	    'loginShop' => array(
	      'template' => 'View/tpl/reg/loginShop'
	    ),
	    'editInfoShop' => array(
	      'template' => 'View/tpl/reg/editInfoShop'
	    ),
	    'editPassShop' => array(
	      'template' => 'View/tpl/reg/editPassShop'
	    ),
	    //product shop
	    'productShop' => array(
	      'template' => 'View/tpl/product/productShop'
	    ),
	    'productFormShop' => array(
	      'template' => 'View/tpl/product/productFormShop'
	    ),
	    //index shop
	    'indexShop' => array(
	      'template' => 'View/tpl/product/indexShop'
	    ),
	    'detailShop' => array(
	      'template' => 'View/tpl/product/detailShop'
	    ),
	    //cart shop
	    'cartShop' => array(
	      'template' => 'View/tpl/cart/cartShop'
	    ),
	    'cartSendShop' => array(
	      'template' => 'View/tpl/cart/cartSendShop'
	    ),

		//contact shop
		'contactShop' => array(
			'template' => 'View/tpl/contact/contactShop'
		),
		'contactFormShop' => array(
			'template' => 'View/tpl/contact/contactFormShop'
		),
	);
}

function Shop_init() {
	$uri = request_uri();
	if(preg_match("/(\/admin)/", $uri)==0){
		$files = array(
			'Model/RegShop.php',
			'Controller/RegShopController.php',
			
			'Model/ProductShop.php',
			'Controller/ProductShopController.php',

			'Model/ContactShop.php',
			'Controller/ContactShopController.php',
			
			'Model/CartShop.php',
			'Controller/CartShopController.php',
			
			'View/css/shop.css',
			'View/js/shop.js',
			
			'View/js/nivoslider/jquery.nivo.slider.js',
			'View/js/nivoslider/jquery.nivo.slider.css',
		);
		Loader::load('Shop', $files);
	}
}
